<!DOCTYPE html>
<html lang="en">

<head>
  <title>Theft-Detection using TensorFlow.js</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Import the webpage's stylesheet -->
  <link rel="stylesheet" href="https://abdassalamahmad.github.io/Theft-Detection/style.css">
</head>

<body>
  <h1>Theft-Detection using COCO-SSD pre-trained model from TensorFlow.js</h1>


  <section id="demos" class="invisible">
    <h2>Demo</h2>

    <h2>Security Webcam</h2>
    <h3>How to use</h3>
    <ol>
      <li>Wait for the model to load before trying the demos below
        at which point they will become visible when ready to use.</li>
      <li>Sign up with <b>a temp-mail and random password</b> if you are not registered, then sign in to be able to use
        the model.<br>
        <b>Note: </b>The detection runs on client device but for the alert to happen it needs to be sent to the cloud.</li>

      <li>When you are ready click "enable webcam" below and accept access to the webcam
        when the browser asks (check the top left of your window).</li>

      <li>Once you enable the webcam, the model will detect every person and capture photos of him every 2 seconds.
      </li>

      <li>The photos are sent to firebase storage and then will be sent to
        <a href="https://abdassalamahmad.github.io/Theft-Detection/showimages.html">this page</a>
        to show all photos taken.
      </li>

      <li>Ideally you should get a notification for every new detection,
         but currently it's not available (To-Do using Firebase Functions).</li>
    </ol>

    <p>
    <div id="liveView" class="videoView">
      <button id="webcamButton">Enable Webcam</button>
      <video id="webcam" autoplay></video>
    </div>
    </p>
  </section>

  <p>
    <input type="email" placeholder="email here" id="email"><br>
    <input type="password" placeholder="password here" id="password"><br>
    <button onclick="signIn()" id="signIn" class="btn btn-action">SignIn</button>
    <button onclick="signUp()" id="signUp" class="btn btn-secondary">SignUp</button>
  </p>


  <!-- Import TensorFlow.js library -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js" type="text/javascript"></script>

  <!-- Load the coco-ssd model to use to recognize things in images -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>


  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

  <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyAqu-usFbiECu0VqE_z-4GVlkYGfY9PYIo",
      authDomain: "person-detection-9ba5d.firebaseapp.com",
      projectId: "person-detection-9ba5d",
      storageBucket: "person-detection-9ba5d.appspot.com",
      messagingSenderId: "865499889032",
      appId: "1:865499889032:web:e4515efb6f29dd6d1d8e3d"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>


  <!-- Import the page's JavaScript to do some stuff -->
  <script src="https://abdassalamahmad.github.io/Theft-Detection/script.js"></script>
</body>

</html>